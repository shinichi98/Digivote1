{"ast":null,"code":"import _regeneratorRuntime from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/utkarsh/study2/proj/DigiVote/client/src/Candidate/CandidateRequestForm.jsx\";\nimport React, { Component } from 'react';\nimport { ipfsFetcher } from '../ipfsStore';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nvar CandidateRequestForm = /*#__PURE__*/function (_Component) {\n  _inherits(CandidateRequestForm, _Component);\n\n  function CandidateRequestForm(props) {\n    var _this;\n\n    _classCallCheck(this, CandidateRequestForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CandidateRequestForm).call(this, props));\n    _this.componentWillMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var electionData, candidateData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loaderStart: true\n              });\n\n              _context.next = 3;\n              return ipfsFetcher(_this.props.electionHash);\n\n            case 3:\n              electionData = _context.sent;\n              _context.next = 6;\n              return ipfsFetcher(_this.props.candidateHash);\n\n            case 6:\n              candidateData = _context.sent;\n\n              _this.setState({\n                electionData: electionData,\n                candidateData: candidateData,\n                loaderStart: false\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.updatePlace = function (evt) {\n      return _this.setState({\n        inputPlace: evt.target.value\n      });\n    };\n\n    _this.updateIsAgree = function (evt) {\n      return _this.setState({\n        isAgree: evt.target.checked\n      });\n    };\n\n    _this.sendRequest = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        var _this$props$userObjec, contract, accounts, date;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this.setState({\n                  loaderStart: true\n                });\n\n                event.preventDefault();\n                console.log(\"request sended\");\n                _this$props$userObjec = _this.props.userObject, contract = _this$props$userObjec.contract, accounts = _this$props$userObjec.accounts;\n                date = new Date() + \"\";\n                console.log(date);\n                _context2.next = 8;\n                return contract.methods.setRequest(_this.props.username, _this.props.electionHash, date, _this.state.inputPlace, \"Requested\").send({\n                  from: accounts[2],\n                  gas: 6721975\n                }).then(function (receipt) {\n                  console.log(receipt);\n                  alert(\"Thank You for Sending Request\");\n\n                  _this.setState({\n                    loaderStart: false\n                  });\n\n                  _this.props.updateForm();\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      isAgree: false,\n      inputPlace: null,\n      RequestHash: null,\n      electionData: null,\n      candidateData: null\n    };\n    return _this;\n  }\n\n  _createClass(CandidateRequestForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Fade, {\n        in: this.state.loaderStart === true,\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        className: \"loaderDiv1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CircularProgress, {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Paper, {\n        elevation: 5,\n        className: \"ElectionRequestForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        elevation: 10,\n        className: \"ElectionSection\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        varient: \"h1\",\n        className: \"ElectionFormHeader\",\n        color: \"textPrimary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 28\n        }\n      }, \" Election Details\")), this.state.electionData && /*#__PURE__*/React.createElement(Typography, {\n        color: \"textPrimary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 37\n        }\n      }, \"Election Type\"), \"                   : \", this.state.electionData.typeOfElection, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 129\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 37\n        }\n      }, \"Organizer\"), \"                       : \", this.state.electionData.organizer, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 124\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 37\n        }\n      }, \"Constituency\"), \"                    : \", this.state.electionData.constituency, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 127\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 37\n        }\n      }, \"Total Voters\"), \"                    : \", this.state.electionData.TotalVoters, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 126\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 37\n        }\n      }, \"Election Date\"), \"                   : \", this.state.electionData.electionStartDateNTime.substring(0, 24), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 154\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 37\n        }\n      }, \"Result Date\"), \"                     : \", this.state.electionData.resultDate.substring(0, 24), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 142\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 37\n        }\n      }, \"Candiate Registration Last Date\"), \" : \", this.state.electionData.FCRD.substring(0, 24), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 136\n        }\n      })))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        elevation: 10,\n        className: \"CandidateSection\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        varient: \"h1\",\n        className: \"ElectionFormHeader\",\n        color: \"textPrimary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 29\n        }\n      }, \"Candidate Details\")), this.state.candidateData && /*#__PURE__*/React.createElement(Typography, {\n        color: \"textPrimary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 37\n        }\n      }, \"Username\"), \"        : \", this.state.candidateData.Username, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 108\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 37\n        }\n      }, \"Name\"), \"            : \", this.state.candidateData.Name, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 104\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 37\n        }\n      }, \"Election Party\"), \"  : \", this.state.candidateData.ElectionParty, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 113\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      }, \"Mobile\"), \"          : \", this.state.candidateData.Mobile, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 106\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 37\n        }\n      }, \"Constituency\"), \"    : \", this.state.candidateData.constituency, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 112\n        }\n      }))))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        control: /*#__PURE__*/React.createElement(Checkbox, {\n          checked: this.state.isAgree,\n          onChange: function onChange(evt) {\n            return _this2.updateIsAgree(evt);\n          },\n          label: \"Agree with Details\",\n          value: \"Agree with Details\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }\n        }),\n        label: \"Agree with Details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        required: true,\n        name: \"Place\",\n        id: \"Place\",\n        label: \"Place\",\n        value: this.state.inputPlace,\n        onChange: function onChange(evt) {\n          return _this2.updatePlace(evt);\n        },\n        margin: \"normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }\n      }, this.state.isAgree && /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.sendRequest,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 28\n        }\n      }, \"Submit\")))));\n    }\n  }]);\n\n  return CandidateRequestForm;\n}(Component);\n\nexport { CandidateRequestForm as default };","map":{"version":3,"sources":["/home/utkarsh/study2/proj/DigiVote/client/src/Candidate/CandidateRequestForm.jsx"],"names":["React","Component","ipfsFetcher","Paper","Grid","TextField","Button","Typography","Checkbox","FormControlLabel","Fade","CircularProgress","CandidateRequestForm","props","componentWillMount","setState","loaderStart","electionHash","electionData","candidateHash","candidateData","updatePlace","evt","inputPlace","target","value","updateIsAgree","isAgree","checked","sendRequest","event","preventDefault","console","log","userObject","contract","accounts","date","Date","methods","setRequest","username","state","send","from","gas","then","receipt","alert","updateForm","catch","error","RequestHash","typeOfElection","organizer","constituency","TotalVoters","electionStartDateNTime","substring","resultDate","FCRD","Username","Name","ElectionParty","Mobile"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { ipfsFetcher } from '../ipfsStore';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nexport default class CandidateRequestForm extends Component{\n\n    constructor(props){\n        super(props)\n        this.state = {\n            isAgree : false,\n            inputPlace : null,\n            RequestHash : null,\n            electionData : null,\n            candidateData : null\n        }\n    }\n\n    componentWillMount = async() => {\n\n        this.setState({ loaderStart : true })\n\n        let electionData = await ipfsFetcher(this.props.electionHash)\n        let candidateData = await ipfsFetcher(this.props.candidateHash)\n\n        this.setState({\n            electionData, candidateData, loaderStart : false\n        })\n\n    }\n\n    updatePlace = (evt) => this.setState({ inputPlace : evt.target.value})\n\n    updateIsAgree = (evt) => this.setState({ isAgree : evt.target.checked})\n\n    sendRequest = async(event) => {\n\n        this.setState({ loaderStart : true })\n\n        event.preventDefault();\n        console.log(\"request sended\")\n\n        const {contract, accounts} = this.props.userObject;\n        \n        let date= new Date() + \"\";\n        console.log(date)\n\n        await contract.methods.setRequest(this.props.username, this.props.electionHash, date, this.state.inputPlace, \"Requested\").send({from: accounts[2],gas:6721975})\n        .then((receipt) => {\n          console.log(receipt)\n          alert(\"Thank You for Sending Request\")\n\n          this.setState({ loaderStart : false })\n          this.props.updateForm();\n          \n        })\n        .catch((error) => {\n          console.log(error)\n        });\n\n        \n\n    }\n\n    render(){\n        return (\n            <div>\n                <Fade\n                    in={this.state.loaderStart === true}\n                    unmountOnExit\n                >\n                    <Grid \n                        container \n                        direction=\"row\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                        className=\"loaderDiv1\"\n                    >\n                        <CircularProgress className=\"loader\"/>\n                    </Grid>\n                </Fade>\n                <Paper \n                    elevation={5}\n                    className=\"ElectionRequestForm\"\n                >\n                <Grid container>\n                <Grid container item xs={12}>\n                    <Grid item xs={6}>\n                        <Paper elevation={10} className=\"ElectionSection\">\n                        <Typography varient=\"h1\" className=\"ElectionFormHeader\" color=\"textPrimary\">\n                           <center> Election Details</center>\n                        </Typography>\n                        {\n                            this.state.electionData &&\n                                <Typography  color=\"textPrimary\">\n                                    <strong>Election Type</strong>                   : {this.state.electionData.typeOfElection} <br />\n                                    <strong>Organizer</strong>                       : {this.state.electionData.organizer} <br />\n                                    <strong>Constituency</strong>                    : {this.state.electionData.constituency} <br />\n                                    <strong>Total Voters</strong>                    : {this.state.electionData.TotalVoters} <br />\n                                    <strong>Election Date</strong>                   : {this.state.electionData.electionStartDateNTime.substring(0, 24)} <br />\n                                    <strong>Result Date</strong>                     : {this.state.electionData.resultDate.substring(0, 24)} <br />\n                                    <strong>Candiate Registration Last Date</strong> : {this.state.electionData.FCRD.substring(0, 24)} <br />\n                                </Typography>\n                        }\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Paper elevation={10} className=\"CandidateSection\">\n                        <Typography varient=\"h1\"  className=\"ElectionFormHeader\" color=\"textPrimary\">\n                            <center>Candidate Details</center>\n                        </Typography>\n                        {\n                            this.state.candidateData &&\n                                <Typography  color=\"textPrimary\">\n                                    <strong>Username</strong>        : {this.state.candidateData.Username} <br />\n                                    <strong>Name</strong>            : {this.state.candidateData.Name} <br />\n                                    <strong>Election Party</strong>  : {this.state.candidateData.ElectionParty} <br />\n                                    <strong>Mobile</strong>          : {this.state.candidateData.Mobile} <br />\n                                    <strong>Constituency</strong>    : {this.state.candidateData.constituency} <br />\n                                </Typography>\n                        }\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Grid container\n                    item \n                    xs={12}\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n                    <Grid item xs={6}>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={this.state.isAgree}\n                                onChange={evt => this.updateIsAgree(evt)}\n                                label = \"Agree with Details\"\n                                value=\"Agree with Details\"\n                            />\n                        }\n                        label=\"Agree with Details\"\n                        />\n                        \n                    </Grid>\n                    <Grid item xs={6}>\n                        <TextField\n                              required\n                              name=\"Place\"\n                              id=\"Place\"\n                              label=\"Place\"\n                              value={this.state.inputPlace}\n                              onChange={evt => this.updatePlace(evt)}\n                              margin=\"normal\"\n                        />\n                    </Grid>\n                </Grid>\n                <Grid \n                    container\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n                {\n                    this.state.isAgree \n                        && <Button \n                                variant=\"contained\"     \n                                color=\"primary\"\n                                onClick={this.sendRequest}\n                            >\n                            Submit\n                            </Button>  \n\n                } \n                </Grid>\n                </Grid>\n                </Paper>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}