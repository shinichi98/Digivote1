{"ast":null,"code":"import _regeneratorRuntime from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/utkarsh/study2/proj/DigiVote/client/src/Candidate/ElectionRequests.jsx\";\nimport React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Person from '@material-ui/icons/Person';\nimport { ipfsFetcher } from '../ipfsStore';\nimport Button from '@material-ui/core/Button';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nvar ElectionRequests = /*#__PURE__*/function (_Component) {\n  _inherits(ElectionRequests, _Component);\n\n  function ElectionRequests(props) {\n    var _this;\n\n    _classCallCheck(this, ElectionRequests);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ElectionRequests).call(this, props));\n    _this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var requests, length, contract, i, result, electionData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loaderStart: true\n              });\n\n              requests = [];\n              length = 0;\n              contract = _this.props.userObject.contract;\n              _context.next = 6;\n              return contract.methods.candidateRequestsCount(_this.props.username ? _this.props.username : \"modi\").call().then(function (res) {\n                return length = res;\n              }).catch(console.error);\n\n            case 6:\n              i = 0;\n\n            case 7:\n              if (!(i < length)) {\n                _context.next = 18;\n                break;\n              }\n\n              result = void 0;\n              _context.next = 11;\n              return contract.methods.getRequest(_this.props.username ? _this.props.username : \"modi\", i).call().then(function (res) {\n                return result = res;\n              }).catch(console.error);\n\n            case 11:\n              _context.next = 13;\n              return ipfsFetcher(result[1]);\n\n            case 13:\n              electionData = _context.sent;\n              requests.push([result, electionData]);\n\n            case 15:\n              i++;\n              _context.next = 7;\n              break;\n\n            case 18:\n              _this.setState({\n                requests: requests,\n                loaderStart: false\n              });\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      requests: null,\n      loaderStart: false // isElectionSelected : false,\n      // selectedElection : null\n\n    };\n    return _this;\n  }\n\n  _createClass(ElectionRequests, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state.requests);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Fade, {\n        in: this.state.loaderStart === true,\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        className: \"loaderDiv1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CircularProgress, {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        className: \"RegisterCard\",\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, this.state.requests && /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, this.state.requests.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(Card, {\n          key: index,\n          className: \"RequestCard\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(CardContent, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          varient: \"h4\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 31\n          }\n        }, item[1].typeOfElection), /*#__PURE__*/React.createElement(Typography, {\n          className: \"RequestCardText2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 31\n          }\n        }, item[1].constituency), /*#__PURE__*/React.createElement(Person, {\n          className: \"personIcon2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 31\n          }\n        }), /*#__PURE__*/React.createElement(Typography, {\n          varient: \"h4\",\n          className: \"RequestCardText3\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 31\n          }\n        }, item[0][0]), /*#__PURE__*/React.createElement(Typography, {\n          varient: \"h4\",\n          className: \"RequestCardText4\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 31\n          }\n        }, item[0][3]), /*#__PURE__*/React.createElement(Button, {\n          color: \"primary\",\n          variant: \"outlined\",\n          size: \"small\",\n          style: {\n            marginTop: \"10px\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 31\n          }\n        }, item[0][4])));\n      }))));\n    }\n  }]);\n\n  return ElectionRequests;\n}(Component);\n\nexport { ElectionRequests as default };","map":{"version":3,"sources":["/home/utkarsh/study2/proj/DigiVote/client/src/Candidate/ElectionRequests.jsx"],"names":["React","Component","Grid","Card","CardContent","Typography","Person","ipfsFetcher","Button","Fade","CircularProgress","ElectionRequests","props","componentDidMount","setState","loaderStart","requests","length","contract","userObject","methods","candidateRequestsCount","username","call","then","res","catch","console","error","i","result","getRequest","electionData","push","state","log","map","item","index","typeOfElection","constituency","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Person from '@material-ui/icons/Person'\nimport { ipfsFetcher } from '../ipfsStore';\nimport Button from '@material-ui/core/Button';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default class ElectionRequests extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            requests:null,\n            loaderStart : false\n            // isElectionSelected : false,\n            // selectedElection : null\n        }\n    }\n\n    componentDidMount = async() => {\n\n      this.setState({ loaderStart : true })\n        \n        let requests = [];\n        let length = 0;\n\n        const {contract} = this.props.userObject;\n        \n        await contract.methods.candidateRequestsCount(this.props.username ? this.props.username : \"modi\").call()\n        .then(res => length = res)\n        .catch(console.error)\n\n        for(let i=0;i<length;i++){\n\n            let result\n             await contract.methods.getRequest(this.props.username ? this.props.username : \"modi\", i).call()\n            .then(res => result = res)\n            .catch(console.error)   \n            \n            let electionData = await ipfsFetcher(result[1])\n\n            requests.push([result, electionData])\n        }\n\n        \n\n        this.setState({\n            requests, loaderStart : false\n        })\n\n       \n    }\n\n    render(){\n        console.log(this.state.requests)\n        return(\n          <div>\n              <Fade\n                    in={this.state.loaderStart === true}\n                    unmountOnExit\n                >\n                    <Grid \n                        container \n                        direction=\"row\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                        className=\"loaderDiv1\"\n                    >\n                        <CircularProgress className=\"loader\"/>\n                    </Grid>\n                </Fade>\n                <Grid className=\"RegisterCard\" container>\n                {\n                    this.state.requests &&\n                    <Grid container >\n                        {this.state.requests.map((item, index) => \n                            <Card key={index} className=\"RequestCard\">\n                            <CardContent>\n                              <Typography varient=\"h4\">\n                                {item[1].typeOfElection}\n                              </Typography>\n                              <Typography className=\"RequestCardText2\">\n                                {item[1].constituency}\n                              </Typography>\n                              <Person className=\"personIcon2\" />\n                              <Typography varient=\"h4\" className=\"RequestCardText3\">\n                                {item[0][0]}\n                              </Typography>\n                              <Typography varient=\"h4\" className=\"RequestCardText4\">\n                                {item[0][3]}\n                              </Typography>\n                              <Button \n                                color=\"primary\" \n                                variant=\"outlined\" \n                                size=\"small\" \n                                style={{ marginTop : \"10px\"}}\n                               >\n                                {item[0][4]}\n                              </Button>\n                            </CardContent>\n                          </Card>\n                        )}\n                    </Grid> \n                }\n            </Grid>\n          </div>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}