{"ast":null,"code":"import _regeneratorRuntime from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/utkarsh/study2/proj/DigiVote/client/src/Organizer/AllRequests.jsx\";\nimport React, { Component } from 'react';\nimport CandidateRequest from './CandidateRequest';\nimport Grid from '@material-ui/core/Grid';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nvar AllRequests = /*#__PURE__*/function (_Component) {\n  _inherits(AllRequests, _Component);\n\n  function AllRequests(props) {\n    var _this;\n\n    _classCallCheck(this, AllRequests);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllRequests).call(this, props));\n    _this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var requests, length, contract, i, result, newRequest;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loaderStart: true\n              });\n\n              requests = [];\n              length = 0;\n              contract = _this.props.userObject.contract;\n              _context.next = 6;\n              return contract.methods.requestsCount().call().then(function (res) {\n                return length = res;\n              }).catch(console.error);\n\n            case 6:\n              i = 0;\n\n            case 7:\n              if (!(i < length)) {\n                _context.next = 16;\n                break;\n              }\n\n              result = void 0;\n              _context.next = 11;\n              return contract.methods.getAllRequest(i).call().then(function (res) {\n                return result = res;\n              }).catch(console.error);\n\n            case 11:\n              console.log(result);\n              requests.push(result);\n\n            case 13:\n              i++;\n              _context.next = 7;\n              break;\n\n            case 16:\n              newRequest = requests.filter(function (request) {\n                return request[4] !== \"Rejected\";\n              });\n              console.log(requests);\n              console.log(newRequest);\n\n              _this.setState({\n                requests: newRequest,\n                loaderStart: false,\n                refresh: 0\n              });\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.refresh = function () {\n      _this.setState({\n        refresh: 1\n      });\n    };\n\n    _this.state = {\n      requests: null,\n      loaderStart: false,\n      refresh: 0\n    };\n    return _this;\n  }\n\n  _createClass(AllRequests, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Fade, {\n        in: this.state.loaderStart === true,\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        className: \"loaderDiv1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CircularProgress, {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        className: \"RegisterCard\",\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, this.state.requests && /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, this.state.requests.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(CandidateRequest, {\n          userObject: _this2.props.userObject,\n          key: index,\n          index: index,\n          RequesterUsername: item[0],\n          electionHash: item[1],\n          time: item[2],\n          place: item[3],\n          status: item[4],\n          refresh: _this2.refresh,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }\n        });\n      }))));\n    }\n  }]);\n\n  return AllRequests;\n}(Component);\n\nexport { AllRequests as default };","map":{"version":3,"sources":["/home/utkarsh/study2/proj/DigiVote/client/src/Organizer/AllRequests.jsx"],"names":["React","Component","CandidateRequest","Grid","Fade","CircularProgress","AllRequests","props","componentDidMount","setState","loaderStart","requests","length","contract","userObject","methods","requestsCount","call","then","res","catch","console","error","i","result","getAllRequest","log","push","newRequest","filter","request","refresh","state","map","item","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CandidateRequest from './CandidateRequest';\nimport Grid from '@material-ui/core/Grid';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default class AllRequests extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            requests:null,\n            loaderStart : false,\n            refresh : 0\n        }\n    }\n\n    componentDidMount = async() => {\n\n        this.setState({ loaderStart : true })\n        \n        let requests = [];\n        let length = 0;\n\n        const {contract} = this.props.userObject;\n        \n        await contract.methods.requestsCount().call()\n        .then(res => length = res)\n        .catch(console.error)\n\n        for(let i=0;i<length;i++){\n\n            let result\n             await contract.methods.getAllRequest(i).call()\n            .then(res => result = res)\n            .catch(console.error)\n            console.log(result)\n            requests.push(result)\n        }\n\n        \n        let newRequest = requests.filter((request) => {\n            return request[4] !== \"Rejected\"\n        })\n        console.log(requests)\n        console.log(newRequest)\n       \n        this.setState({\n            requests : newRequest, loaderStart : false, refresh : 0\n        })\n\n       \n    }\n\n    refresh = () => {\n        this.setState({ refresh : 1 })\n    }\n\n    render(){\n        return(\n            <div>\n                <Fade\n                    in={this.state.loaderStart === true}\n                    unmountOnExit\n                >\n                    <Grid \n                        container \n                        direction=\"row\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                        className=\"loaderDiv1\"\n                    >\n                        <CircularProgress className=\"loader\"/>\n                    </Grid>\n                </Fade>\n                <Grid className=\"RegisterCard\" container>\n                {\n                    this.state.requests &&\n                    <Grid container >\n                        {this.state.requests.map((item, index) =>    \n                                <CandidateRequest \n                                    userObject={this.props.userObject}\n                                    key={index}\n                                    index={index}\n                                    RequesterUsername={item[0]} \n                                    electionHash={item[1]}\n                                    time={item[2]}\n                                    place={item[3]}\n                                    status={item[4]} \n                                    refresh={this.refresh}   \n                                />          \n                        )}\n                    </Grid> \n                }\n                </Grid>\n            </div>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}