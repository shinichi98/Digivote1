{"ast":null,"code":"import _regeneratorRuntime from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/utkarsh/study2/proj/DigiVote/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/utkarsh/study2/proj/DigiVote/client/src/Elections/ElectionList.jsx\";\nimport React, { Component } from 'react';\nimport { ipfsFetcher } from '../ipfsStore';\nimport SingleElection from './SingleElection';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from \"react-slick\";\nimport '../App.css';\nimport '../index.css';\n\nvar ElectionList = /*#__PURE__*/function (_Component) {\n  _inherits(ElectionList, _Component);\n\n  function ElectionList(props) {\n    var _this;\n\n    _classCallCheck(this, ElectionList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ElectionList).call(this, props));\n\n    _this.updateLiveElections = function (item, val) {\n      if (val) {\n        var count = 0;\n\n        for (var i = 0; i < _this.state.liveElections.length; i++) {\n          if (item == _this.state.liveElections[i]) {\n            count = count + 1;\n            break;\n          }\n        }\n\n        if (count == 0) {\n          var liveElections = _this.state.liveElections;\n          liveElections.push(item);\n\n          _this.setState({\n            liveElections: liveElections\n          });\n        }\n      } else {\n        var _liveElections = _this.state.liveElections.filter(function (item, index, arr) {\n          return item !== arr[index];\n        });\n\n        _this.setState({\n          liveElections: _liveElections\n        });\n      }\n    };\n\n    _this.updateCRElections = function (item, val) {\n      if (val) {\n        var count = 0;\n\n        for (var i = 0; i < _this.state.CRElections.length; i++) {\n          if (item == _this.state.CRElections[i]) {\n            count = count + 1;\n            break;\n          }\n        }\n\n        if (count == 0) {\n          var CRElections = _this.state.CRElections;\n          CRElections.push(item);\n\n          _this.setState({\n            CRElections: CRElections\n          });\n        }\n      } else {\n        var _CRElections = _this.state.CRElections.filter(function (item, index, arr) {\n          return item !== arr[index];\n        });\n\n        _this.setState({\n          CRElections: _CRElections\n        });\n      }\n    };\n\n    _this.updateOtherElections = function (item, val) {\n      if (val) {\n        var count = 0;\n\n        for (var i = 0; i < _this.state.otherElections.length; i++) {\n          if (item == _this.state.otherElections[i]) {\n            count = count + 1;\n            break;\n          }\n        }\n\n        if (count == 0) {\n          var otherElections = _this.state.otherElections;\n          otherElections.push(item);\n\n          _this.setState({\n            otherElections: otherElections\n          });\n        }\n      } else {\n        var _otherElections = _this.state.otherElections.filter(function (item, index, arr) {\n          return item !== arr[index];\n        });\n\n        _this.setState({\n          otherElections: _otherElections\n        });\n      }\n    };\n\n    _this.componentWillMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var electionHash, elections, length, contract, i, result, electionData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              electionHash = [];\n              elections = [];\n              length = 0;\n              contract = _this.props.userObject.contract;\n              _context.next = 6;\n              return contract.methods.electionsCount().call().then(function (res) {\n                return length = res;\n              }).catch(console.error);\n\n            case 6:\n              i = 0;\n\n            case 7:\n              if (!(i < length)) {\n                _context.next = 19;\n                break;\n              }\n\n              result = void 0;\n              _context.next = 11;\n              return contract.methods.getElections(i).call().then(function (res) {\n                return result = res;\n              }).catch(console.error);\n\n            case 11:\n              _context.next = 13;\n              return ipfsFetcher(result);\n\n            case 13:\n              electionData = _context.sent;\n              electionHash.push(result);\n              elections.push(electionData);\n\n            case 16:\n              i++;\n              _context.next = 7;\n              break;\n\n            case 19:\n              _this.setState({\n                elections: elections,\n                electionHash: electionHash\n              });\n\n              console.log(elections);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      elections: null,\n      electionHash: null,\n      liveElections: [],\n      CRElections: [],\n      otherElections: []\n    };\n    return _this;\n  } //update the liveElection and val = 0 remove the election and 1 means add the election\n\n\n  _createClass(ElectionList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"Election List\");\n      console.log(this.state.otherElections);\n      var StS;\n\n      if (this.state.liveElections !== null) {\n        if (this.state.liveElections.length >= 3) StS = 3;\n        if (this.state.liveElections.length == 2) StS = 2;\n        if (this.state.liveElections.length == 1) StS = 1;\n        if (this.state.liveElections.length < 1) StS = 0;\n      }\n\n      var settingsLive = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: StS,\n        slidesToScroll: 1\n      };\n\n      if (this.state.CRElections !== null) {\n        if (this.state.CRElections.length >= 3) StS = 3;\n        if (this.state.CRElections.length == 2) StS = 2;\n        if (this.state.CRElections.length == 1) StS = 1;\n        if (this.state.CRElections.length < 1) StS = 0;\n      }\n\n      var settingsCR = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: StS,\n        slidesToScroll: 1\n      };\n\n      if (this.state.otherElections !== null) {\n        if (this.state.otherElections.length >= 3) StS = 3;\n        if (this.state.otherElections.length == 2) StS = 2;\n        if (this.state.otherElections.length == 1) StS = 1;\n        if (this.state.otherElections.length < 1) StS = 0;\n      }\n\n      var settingsOther = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: StS,\n        slidesToScroll: 1\n      };\n\n      if (this.state.elections !== null) {\n        if (this.state.elections.length >= 3) StS = 3;\n        if (this.state.elections.length == 2) StS = 2;\n        if (this.state.elections.length == 1) StS = 1;\n        if (this.state.elections.length < 1) StS = 0;\n      }\n\n      var settingsAll = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: StS,\n        slidesToScroll: 1\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        className: \"HomePageDiv\",\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"BrandLogo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 9,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sideBanner\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rightImg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"LandingBtnDiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"LandingBtn\",\n        onClick: function onClick() {\n          return _this2.props.updateHomeState(1, null);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 29\n        }\n      }, \"Organizer\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"LandingBtn\",\n        onClick: function onClick() {\n          return _this2.props.updateHomeState(2, null);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 29\n        }\n      }, \"Candidate\")))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"leftImg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"LandingText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"LiveElectionHeading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"LiveElectionCards\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }, this.state.liveElections && /*#__PURE__*/React.createElement(Slider, Object.assign({}, settingsLive, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 25\n        }\n      }), this.state.liveElections.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(SingleElection, {\n          key: index,\n          index: index,\n          item: item,\n          electionHash: _this2.state.electionHash,\n          userObject: _this2.props.userObject,\n          updateHomeState: _this2.props.updateHomeState,\n          updateLiveElections: _this2.updateLiveElections,\n          updateCRElections: _this2.updateCRElections,\n          updateOtherElections: _this2.updateOtherElections,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 29\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"CRElectionHeading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"CRElectionCards\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }\n      }, this.state.CRElections && /*#__PURE__*/React.createElement(Slider, Object.assign({}, settingsCR, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }\n      }), this.state.CRElections.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(SingleElection, {\n          key: index,\n          index: index,\n          item: item,\n          electionHash: _this2.state.electionHash,\n          userObject: _this2.props.userObject,\n          updateHomeState: _this2.props.updateHomeState,\n          updateLiveElections: _this2.updateLiveElections,\n          updateCRElections: _this2.updateCRElections,\n          updateOtherElections: _this2.updateOtherElections,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"OverElectionHeading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"OverElectionCards\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 17\n        }\n      }, this.state.otherElections && /*#__PURE__*/React.createElement(Slider, Object.assign({}, settingsOther, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }\n      }), this.state.otherElections.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(SingleElection, {\n          key: index,\n          index: index,\n          item: item,\n          electionHash: _this2.state.electionHash,\n          userObject: _this2.props.userObject,\n          updateHomeState: _this2.props.updateHomeState,\n          updateLiveElections: _this2.updateLiveElections,\n          updateCRElections: _this2.updateCRElections,\n          updateOtherElections: _this2.updateOtherElections,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 29\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"AllElectionHeading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"AllElectionCards\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 17\n        }\n      }, this.state.elections && /*#__PURE__*/React.createElement(Slider, Object.assign({}, settingsAll, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 25\n        }\n      }), this.state.elections.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(SingleElection, {\n          key: index,\n          index: index,\n          item: item,\n          electionHash: _this2.state.electionHash,\n          userObject: _this2.props.userObject,\n          updateHomeState: _this2.props.updateHomeState,\n          updateLiveElections: _this2.updateLiveElections,\n          updateCRElections: _this2.updateCRElections,\n          updateOtherElections: _this2.updateOtherElections,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 29\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Fade, {\n        in: this.state.elections === null,\n        unmountOnExit: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        className: \"loaderDiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CircularProgress, {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return ElectionList;\n}(Component);\n\nexport { ElectionList as default };","map":{"version":3,"sources":["/home/utkarsh/study2/proj/DigiVote/client/src/Elections/ElectionList.jsx"],"names":["React","Component","ipfsFetcher","SingleElection","Paper","Grid","Button","Fade","CircularProgress","Typography","Slider","ElectionList","props","updateLiveElections","item","val","count","i","state","liveElections","length","push","setState","filter","index","arr","updateCRElections","CRElections","updateOtherElections","otherElections","componentWillMount","electionHash","elections","contract","userObject","methods","electionsCount","call","then","res","catch","console","error","result","getElections","electionData","log","StS","settingsLive","dots","infinite","speed","slidesToShow","slidesToScroll","settingsCR","settingsOther","settingsAll","updateHomeState","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ipfsFetcher } from '../ipfsStore';\nimport SingleElection from './SingleElection';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from \"react-slick\";\nimport '../App.css'\nimport '../index.css'\n\nexport default class ElectionList extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            elections : null,\n            electionHash : null,\n            liveElections : [],\n            CRElections : [],\n            otherElections : []\n        }\n        \n    }\n\n    //update the liveElection and val = 0 remove the election and 1 means add the election\n    updateLiveElections = (item, val) => {\n\n        if(val){\n\n            let count = 0\n            for(let i=0;i<this.state.liveElections.length;i++){\n                if(item == this.state.liveElections[i]){\n                    count = count + 1;\n                    break;\n                }\n            }\n\n            if(count == 0){\n                let liveElections = this.state.liveElections\n                liveElections.push(item)\n                this.setState({ liveElections })\n            }\n            \n        }else{\n            let liveElections = this.state.liveElections.filter(function(item, index, arr){\n\n                return (item !== arr[index]);\n            \n            });\n\n            this.setState({ liveElections })\n        }  \n    }\n\n    updateCRElections = (item, val) => {\n        if(val){\n\n            let count = 0\n            for(let i=0;i<this.state.CRElections.length;i++){\n                if(item == this.state.CRElections[i]){\n                    count = count + 1;\n                    break;\n                }\n            }\n\n            if(count == 0){\n                let CRElections = this.state.CRElections\n                CRElections.push(item)\n                this.setState({ CRElections })\n            }\n            \n        }else{\n            let CRElections = this.state.CRElections.filter(function(item, index, arr){\n\n                return (item !== arr[index]);\n            \n            });\n\n            this.setState({ CRElections })\n        }    \n    }\n\n    updateOtherElections = (item, val) => {\n        if(val){\n\n            let count = 0\n            for(let i=0;i<this.state.otherElections.length;i++){\n                if(item == this.state.otherElections[i]){\n                    count = count + 1;\n                    break;\n                }\n            }\n\n            if(count == 0){\n                let otherElections = this.state.otherElections\n                otherElections.push(item)\n                this.setState({ otherElections })\n            }\n            \n        }else{\n            let otherElections = this.state.otherElections.filter(function(item, index, arr){\n\n                return (item !== arr[index]);\n            \n            });\n\n            this.setState({ otherElections })\n        }    \n    }\n\n    componentWillMount = async() => {\n        \n        let electionHash = []\n        let elections = []\n        let length = 0;\n        const {contract} = this.props.userObject\n        \n        await contract.methods.electionsCount().call()\n        .then(res => length = res)\n        .catch(console.error)\n\n        \n        for(let i=0;i<length;i++){\n\n            let result\n            await contract.methods.getElections(i).call()\n            .then(res => result = res)\n            .catch(console.error)\n\n\n            let electionData = await ipfsFetcher(result)\n\n            electionHash.push(result)\n            elections.push(electionData)\n        }\n       \n        this.setState({\n            elections,\n            electionHash\n        })\n\n        console.log(elections)\n    }\n\n   \n\n    render(){\n        console.log(\"Election List\")\n        console.log(this.state.otherElections)\n\n        let StS\n        if(this.state.liveElections !== null ) {\n            if(this.state.liveElections.length >= 3 ) StS = 3\n            if(this.state.liveElections.length == 2) StS = 2\n            if(this.state.liveElections.length == 1) StS = 1\n            if(this.state.liveElections.length < 1) StS  = 0\n        }\n\n        const settingsLive = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: StS,\n            slidesToScroll: 1\n        };\n\n        if(this.state.CRElections !== null ) {\n            if(this.state.CRElections.length >= 3 ) StS = 3\n            if(this.state.CRElections.length == 2) StS = 2\n            if(this.state.CRElections.length == 1) StS = 1\n            if(this.state.CRElections.length < 1) StS  = 0\n        }\n\n        const settingsCR = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: StS,\n            slidesToScroll: 1\n        };\n\n        if(this.state.otherElections !== null ) {\n            if(this.state.otherElections.length >= 3 ) StS = 3\n            if(this.state.otherElections.length == 2) StS = 2\n            if(this.state.otherElections.length == 1) StS = 1\n            if(this.state.otherElections.length < 1) StS  = 0\n        }\n\n        const settingsOther = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: StS,\n            slidesToScroll: 1\n        };\n\n        if(this.state.elections !== null ) {\n            if(this.state.elections.length >= 3 ) StS = 3\n            if(this.state.elections.length == 2) StS = 2\n            if(this.state.elections.length == 1) StS = 1\n            if(this.state.elections.length < 1) StS  = 0\n        }\n\n        const settingsAll = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: StS,\n            slidesToScroll: 1\n        };\n          \n        return(\n            <div>\n                <Grid \n                    className=\"HomePageDiv\" \n                    container\n                >\n                <Grid container item  xs={3}>\n                    <div className=\"BrandLogo\"></div>\n                </Grid>\n                <Grid container item  xs={9}>\n                    <div className=\"sideBanner\">\n                        <div className=\"rightImg\"></div>\n                        <div className=\"LandingBtnDiv\">\n                            <button \n                                className=\"LandingBtn\"\n                                onClick={() => this.props.updateHomeState(1, null)}  \n                            >Organizer</button>\n                            <button \n                                className=\"LandingBtn\"\n                                onClick={() => this.props.updateHomeState(2, null)}\n                            >Candidate</button>\n                        </div>\n                        \n                    </div>\n                </Grid>\n                <Grid item xs={12}>  \n                    <div className=\"leftImg\"></div>\n                </Grid>\n                <Grid item xs={12}>\n                    <div className=\"LandingText\"></div>\n                </Grid>\n                </Grid>\n                <Grid container>\n                    <Grid item xs={12}>\n                        <div className=\"LiveElectionHeading\"></div>\n                    </Grid>\n                </Grid>\n                <div className=\"LiveElectionCards\">\n                {\n                    this.state.liveElections &&\n                        <Slider {...settingsLive}>\n                    \n                        {this.state.liveElections.map((item, index) => \n                            <div key={index}>\n                            <SingleElection \n                                key={index} \n                                index={index} \n                                item={item} \n                                electionHash={this.state.electionHash}\n                                userObject={this.props.userObject} \n                                updateHomeState={this.props.updateHomeState}\n                                updateLiveElections={this.updateLiveElections}\n                                updateCRElections={this.updateCRElections}\n                                updateOtherElections={this.updateOtherElections}\n                            />   \n                            </div>\n                        )}\n                        \n                        </Slider>\n                }\n                </div>\n                <Grid container >\n                    <Grid item xs={12}>\n                        <div className=\"CRElectionHeading\"></div>\n                    </Grid>\n                </Grid>\n                <div className=\"CRElectionCards\">\n                {\n                    this.state.CRElections &&\n                        <Slider {...settingsCR}>\n                    \n                        {this.state.CRElections.map((item, index) => \n                            <div key={index}>\n                            <SingleElection \n                                key={index} \n                                index={index} \n                                item={item} \n                                electionHash={this.state.electionHash}\n                                userObject={this.props.userObject} \n                                updateHomeState={this.props.updateHomeState}\n                                updateLiveElections={this.updateLiveElections}\n                                updateCRElections={this.updateCRElections}\n                                updateOtherElections={this.updateOtherElections}\n                            />   \n                            </div>\n                        )}\n                        \n                        </Slider>\n                }    \n                </div>\n                <Grid container >\n                    <Grid item xs={12}>\n                        <div className=\"OverElectionHeading\"></div>\n                    </Grid>\n                </Grid>\n                <div className=\"OverElectionCards\">\n                {\n                    this.state.otherElections &&\n                        <Slider {...settingsOther}>\n                    \n                        {this.state.otherElections.map((item, index) => \n                            <div key={index}>\n                            <SingleElection \n                                key={index} \n                                index={index} \n                                item={item} \n                                electionHash={this.state.electionHash}\n                                userObject={this.props.userObject} \n                                updateHomeState={this.props.updateHomeState}\n                                updateLiveElections={this.updateLiveElections}\n                                updateCRElections={this.updateCRElections}\n                                updateOtherElections={this.updateOtherElections}\n                            />   \n                            </div>\n                        )}\n                        \n                        </Slider>\n                }\n                </div>\n                <Grid container >\n                    <Grid item xs={12}>\n                        <div className=\"AllElectionHeading\"></div>\n                    </Grid>\n                </Grid>\n                <div className=\"AllElectionCards\">\n                {\n                    this.state.elections &&\n                        <Slider {...settingsAll}>\n                    \n                        {this.state.elections.map((item, index) => \n                            <div key={index}>\n                            <SingleElection \n                                key={index} \n                                index={index} \n                                item={item} \n                                electionHash={this.state.electionHash}\n                                userObject={this.props.userObject} \n                                updateHomeState={this.props.updateHomeState}\n                                updateLiveElections={this.updateLiveElections}\n                                updateCRElections={this.updateCRElections}\n                                updateOtherElections={this.updateOtherElections}\n                            />   \n                            </div>\n                        )}\n                        \n                        </Slider>\n                }\n                </div>\n                <Grid container >\n                    <Grid item xs={12}>\n                        <div className=\"Footer\"></div>\n                    </Grid>\n                </Grid>\n                <Fade\n                    in={this.state.elections === null}\n                    unmountOnExit\n                >\n                    <Grid \n                        container \n                        direction=\"row\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                        className=\"loaderDiv\"\n                    >\n                        <CircularProgress className=\"loader\"/>\n                    </Grid>\n                    \n                </Fade>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}